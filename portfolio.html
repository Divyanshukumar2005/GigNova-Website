<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GigNova Portfolio - View our completed web design projects">
    <title>Portfolio - GigNova | Our Work</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;800&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/favicon.png">
    <link rel="apple-touch-icon" href="assets/favicon.png">
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: '#080C14',
                        primary: '#3B82F6',
                        accent: '#06B6D4',
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #080C14;
            color: #ffffff;
            font-family: 'Outfit', sans-serif;
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }
        
        .glass-panel:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.12);
            transform: translateY(-5px);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #3B82F6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .filter-btn {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #3B82F6, #06B6D4);
            color: white;
            border-color: transparent;
        }
        
        .project-card {
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .loader-spinner {
            border: 3px solid rgba(59, 130, 246, 0.1);
            border-top: 3px solid #3B82F6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
         ::-webkit-scrollbar {
            width: 10px;
        }
        
         ::-webkit-scrollbar-track {
            background: #080C14;
        }
        
         ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #3B82F6, #06B6D4);
            border-radius: 10px;
        }
        
        .glow-effect {
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 50%;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
            filter: blur(150px);
            pointer-events: none;
        }
        
        .portfolio-image {
            position: relative;
            height: 12rem;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(6, 182, 212, 0.2));
        }
        
        .portfolio-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .project-card:hover .portfolio-image img {
            transform: scale(1.1);
        }
        
        .portfolio-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, #080C14 0%, transparent 100%);
            opacity: 0.8;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }
        
        .badge {
            padding: 0.5rem 0.75rem;
            font-size: 0.75rem;
            font-weight: 700;
            border-radius: 9999px;
            border: 1px solid;
        }
        /* Loading Skeleton */
        
        .skeleton {
            background: linear-gradient(90deg, #1a1f2e 25%, #242936 50%, #1a1f2e 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->
    <nav class="fixed w-full z-50 bg-dark/90 backdrop-blur-xl border-b border-white/5 py-4">
        <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
            <a href="index.html" class="flex items-center">
                <img src="assets/logo.png" class="h-14 md:h-16" alt="GigNova Logo" onerror="this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-2xl font-bold text-gradient\'>GigNova</span>'">
            </a>

            <div class="hidden md:flex space-x-8 text-sm font-semibold text-gray-300">
                <a href="index.html#home" class="hover:text-white transition">Home</a>
                <a href="index.html#services" class="hover:text-white transition">Services</a>
                <a href="portfolio.html" class="text-primary">Portfolio</a>
                <a href="index.html#contact" class="hover:text-white transition">Contact</a>
            </div>

            <a href="index.html#contact" class="hidden md:block px-6 py-2.5 bg-primary rounded-full text-sm font-bold hover:bg-blue-600 transition">
                Hire Me
            </a>

            <a href="index.html" class="md:hidden text-primary">
                <i class="fas fa-arrow-left text-xl"></i>
            </a>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="pt-32 pb-16 relative overflow-hidden">
        <div class="glow-effect"></div>

        <div class="max-w-7xl mx-auto px-6 text-center relative z-10">
            <span class="text-accent font-bold tracking-widest uppercase mb-4 block">Our Work</span>
            <h1 class="text-5xl md:text-7xl font-extrabold mb-6">
                Project <span class="text-gradient">Portfolio</span>
            </h1>
            <p class="text-gray-400 text-lg md:text-xl max-w-2xl mx-auto mb-8">
                Explore our collection of stunning websites we've crafted for businesses worldwide
            </p>

            <!-- SEARCH BAR -->
            <div class="max-w-xl mx-auto mb-12">
                <div class="relative">
                    <input type="text" id="search-input" placeholder="Search projects by name or category..." class="w-full bg-white/5 border border-white/10 rounded-full px-6 py-4 pl-14 text-white focus:outline-none focus:border-primary transition">
                    <i class="fas fa-search absolute left-5 top-1/2 -translate-y-1/2 text-gray-500"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- FILTERS -->
    <section class="pb-12">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-wrap justify-center gap-4" id="filter-buttons">
                <button class="filter-btn active px-6 py-3 rounded-full font-bold glass-panel" data-filter="all">
                    All Projects
                </button>
            </div>
        </div>
    </section>

    <!-- PROJECTS GRID -->
    <section class="pb-20">
        <div class="max-w-7xl mx-auto px-6">
            <!-- LOADER -->
            <div id="loader" class="flex justify-center items-center py-20">
                <div class="loader-spinner"></div>
            </div>

            <!-- NO RESULTS -->
            <div id="no-results" class="hidden text-center py-20">
                <i class="fas fa-search text-6xl text-gray-700 mb-6"></i>
                <h3 class="text-2xl font-bold text-gray-400 mb-2">No Projects Found</h3>
                <p class="text-gray-500">Try a different search or filter</p>
            </div>

            <!-- PROJECTS CONTAINER -->
            <div id="projects-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="border-t border-white/5 py-12 bg-dark">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <img src="assets/logo.png" alt="GigNova Logo" class="h-16 mx-auto mb-4 opacity-70" onerror="this.style.display='none'">
            <p class="text-gray-500 text-sm mb-6">¬© 2026 GigNova Digital. All Rights Reserved.</p>

            <div class="flex justify-center gap-6">
                <a href="https://www.instagram.com/_gignova_?igsh=MWJmbzllYXY5Z3Z5Mw==" target="_blank" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/5 text-gray-400 hover:bg-accent hover:text-white transition">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.linkedin.com/in/divyanshu-kumar-7625a8315" target="_blank" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/5 text-gray-400 hover:bg-primary hover:text-white transition">
                    <i class="fab fa-linkedin-in"></i>
                </a>
                <a href="mailto:workwithdivyanshukumar@gmail.com" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/5 text-gray-400 hover:bg-green-500 hover:text-white transition">
                    <i class="fas fa-envelope"></i>
                </a>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Float -->
    <a href="https://wa.me/911234567891" target="_blank" class="fixed bottom-6 right-6 bg-green-500 text-white w-14 h-14 rounded-full flex items-center justify-center text-2xl shadow-lg hover:scale-110 transition z-50">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script>
        // ===========================
        // GOOGLE SHEETS CONFIGURATION
        // ===========================
        const SHEET_ID = "YOUR_PUBLIC_SHEET_ID";
        const SHEET_NAME = "Sheet1";
        const SHEET_URL = `https://opensheet.elk.sh/${SHEET_ID}/${SHEET_NAME}`;

        let allProjects = [];
        let currentFilter = 'all';
        let currentSearch = '';

        // ===========================
        // FETCH PROJECTS WITH ERROR HANDLING
        // ===========================
        async function fetchProjects() {
            const loaderEl = document.getElementById('loader');

            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 10000); // 10s timeout

                const response = await fetch(SHEET_URL, {
                    signal: controller.signal,
                    cache: 'no-cache'
                });

                clearTimeout(timeoutId);

                if (!response.ok) {
                    throw new Error(`Server returned ${response.status}: ${response.statusText}`);
                }

                const data = await response.json();

                if (!Array.isArray(data)) {
                    throw new Error('Invalid data format received from sheet');
                }

                if (data.length === 0) {
                    throw new Error('No projects found in sheet. Please add projects to continue.');
                }

                allProjects = data;

                // Extract unique categories safely
                const categories = [...new Set(
                    data
                    .map(p => p.Category)
                    .filter(c => c && typeof c === 'string' && c.trim() !== '')
                )];

                createFilterButtons(categories);
                renderProjects(data);
                loaderEl.classList.add('hidden');

                console.log(`‚úÖ Loaded ${data.length} projects successfully`);

            } catch (error) {
                console.error('‚ùå Portfolio Error:', error);

                let errorMessage = 'Unable to load projects';
                let errorDetails = error.message;

                if (error.name === 'AbortError') {
                    errorMessage = 'Request Timeout';
                    errorDetails = 'The server took too long to respond. Please check your connection.';
                } else if (error.message.includes('Failed to fetch')) {
                    errorMessage = 'Network Error';
                    errorDetails = 'Unable to connect to server. Please check your internet connection.';
                }

                loaderEl.innerHTML = `
                    <div class="text-center max-w-md mx-auto">
                        <i class="fas fa-exclamation-triangle text-6xl text-yellow-500 mb-6"></i>
                        <h3 class="text-2xl font-bold text-red-400 mb-3">${errorMessage}</h3>
                        <p class="text-gray-400 mb-4">${errorDetails}</p>
                        
                        <div class="bg-white/5 border border-white/10 rounded-xl p-4 mb-6 text-left">
                            <p class="text-xs text-gray-500 mb-2"><strong>Sheet ID:</strong></p>
                            <p class="text-xs text-gray-400 font-mono break-all mb-3">${SHEET_ID}</p>
                            <p class="text-xs text-gray-500 mb-2"><strong>Troubleshooting:</strong></p>
                            <ul class="text-xs text-gray-400 space-y-1 list-disc list-inside">
                                <li>Make sure the sheet is publicly accessible</li>
                                <li>Sheet should be published to web</li>
                                <li>Check if sheet name is exactly "${SHEET_NAME}"</li>
                                <li>Verify internet connection</li>
                            </ul>
                        </div>
                        
                        <div class="flex gap-4 justify-center">
                            <button onclick="location.reload()" class="px-6 py-3 bg-primary rounded-full hover:bg-blue-600 transition font-bold">
                                <i class="fas fa-sync-alt mr-2"></i> Retry
                            </button>
                            <a href="index.html" class="px-6 py-3 bg-white/10 rounded-full hover:bg-white/20 transition font-bold">
                                <i class="fas fa-home mr-2"></i> Go Home
                            </a>
                        </div>
                    </div>
                `;
            }
        }

        // ===========================
        // CREATE FILTER BUTTONS
        // ===========================
        function createFilterButtons(categories) {
            const container = document.getElementById('filter-buttons');

            if (categories.length === 0) {
                console.warn('‚ö†Ô∏è No categories found in projects');
                return;
            }

            categories.forEach(category => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn px-6 py-3 rounded-full font-bold glass-panel';
                btn.textContent = category;
                btn.dataset.filter = category.toLowerCase().replace(/\s+/g, '-');

                btn.addEventListener('click', () => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentFilter = btn.dataset.filter;
                    filterProjects();
                });

                container.appendChild(btn);
            });
        }

        // ===========================
        // RENDER PROJECTS
        // ===========================
        function renderProjects(projects) {
            const container = document.getElementById('projects-container');
            const noResults = document.getElementById('no-results');

            container.innerHTML = '';

            if (projects.length === 0) {
                noResults.classList.remove('hidden');
                return;
            }

            noResults.classList.add('hidden');

            projects.forEach((project, index) => {
                const card = createProjectCard(project, index);
                container.appendChild(card);
            });
        }

        // ===========================
        // CREATE PROJECT CARD
        // ===========================
        function createProjectCard(project, index) {
            const div = document.createElement('div');
            div.className = 'project-card glass-panel rounded-2xl overflow-hidden cursor-pointer';
            div.style.animationDelay = `${index * 0.1}s`;

            let websiteLink = project['Website Link'] || '#';

            if (
                websiteLink &&
                !websiteLink.startsWith('http://') &&
                !websiteLink.startsWith('https://')
            ) {
                websiteLink = 'https://' + websiteLink;
            }

            const projectName = project['Project Name'] || 'Untitled Project';
            const type = project['Type'] || 'Static';
            const category = project['Category'] || 'General';
            const description = project['Description'] || 'No description available';
            const imageUrl = project['Image URL'] || 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=2015&auto=format&fit=crop';

            const typeColor = type.toLowerCase() === 'dynamic' ? 'accent' : 'purple-400';
            const typeBg = type.toLowerCase() === 'dynamic' ? 'bg-accent/20 border-accent/30 text-accent' : 'bg-purple-500/20 border-purple-400/30 text-purple-400';

            div.innerHTML = `
                <div class="portfolio-image">
                    <img src="${imageUrl}" alt="${projectName}" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=2015&auto=format&fit=crop'">
                    
                    <div class="absolute top-4 left-4 flex gap-2 z-10">
                        <span class="badge ${typeBg}">${type}</span>
                        <span class="badge bg-primary/20 border-primary/30 text-primary">${category}</span>
                    </div>
                    
                    <div class="portfolio-overlay">
                        <h3 class="text-xl font-bold mb-1">${projectName}</h3>
                    </div>
                </div>
                
                <div class="p-6">
                    <p class="text-gray-400 text-sm mb-4 line-clamp-2">${description}</p>
                    
                    <div class="flex items-center justify-between">
                        <a href="${websiteLink}" target="_blank" rel="noopener noreferrer"
                           class="text-primary font-bold text-sm uppercase tracking-wider hover:text-white transition flex items-center gap-2">
                            Visit Site <i class="fas fa-arrow-right"></i>
                        </a>
                        
                        <button onclick="copyLink('${websiteLink}')" class="text-gray-500 hover:text-accent transition" title="Copy Link">
                            <i class="fas fa-link"></i>
                        </button>
                    </div>
                </div>
            `;

            return div;
        }

        // ===========================
        // FILTER PROJECTS
        // ===========================
        function filterProjects() {
            let filtered = allProjects;

            // Apply category filter
            if (currentFilter !== 'all') {
                filtered = filtered.filter(p => {
                    const category = p['Category'] || '';
                    return category.toLowerCase().replace(/\s+/g, '-') === currentFilter;
                });
            }

            // Apply search filter
            if (currentSearch) {
                filtered = filtered.filter(p => {
                    const name = (p['Project Name'] || '').toLowerCase();
                    const category = (p['Category'] || '').toLowerCase();
                    const description = (p['Description'] || '').toLowerCase();
                    const search = currentSearch.toLowerCase();

                    return name.includes(search) ||
                        category.includes(search) ||
                        description.includes(search);
                });
            }

            renderProjects(filtered);
        }

        // ===========================
        // SEARCH FUNCTIONALITY
        // ===========================
        const searchInput = document.getElementById('search-input');
        let searchTimeout;

        searchInput.addEventListener('input', (e) => {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                currentSearch = e.target.value;
                filterProjects();
            }, 300); // Debounce for better performance
        });

        // ===========================
        // COPY LINK
        // ===========================
        function copyLink(link) {
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(link).then(() => {
                    showNotification('Link copied! ‚úì');
                }).catch(err => {
                    console.error('Copy failed:', err);
                    fallbackCopy(link);
                });
            } else {
                fallbackCopy(link);
            }
        }

        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.opacity = '0';
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                showNotification('Link copied! ‚úì');
            } catch (err) {
                showNotification('Copy failed!');
            }
            document.body.removeChild(textArea);
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-24 right-6 bg-primary text-white px-6 py-3 rounded-full font-bold shadow-lg z-50';
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transition = 'opacity 0.3s';
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 2000);
        }

        // ===========================
        // INITIALIZE
        // ===========================
        fetchProjects();

        // Log system info
        console.log('%cüé® GigNova Portfolio', 'color: #3B82F6; font-size: 20px; font-weight: bold;');
        console.log('%c‚úÖ Portfolio system ready', 'color: #10b981; font-size: 14px;');
    </script>

</body>

</html>
